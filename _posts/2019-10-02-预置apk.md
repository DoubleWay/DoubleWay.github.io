---
layout:     post
title:      预置apk
subtitle:   
date:       2019-10-02
author:     DoubleWay
header-img: img/post-bg-digital-native.jpg
catalog: 	 true
tags:
    - Android
    - TINNO
    - apk
---
#APK方式预置
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-e8a60e38a9a76f15.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


第一步：在 /home/android/work/6739/android/vendor/tinno/product/k510/trunk/packages下创建kuaiya文件夹

 kuaiya文件夹内把apk拷贝进去，然后新建Android.mk
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-1fc491055bdb1522.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
Android.mk内容如下

![GitHub](https://upload-images.jianshu.io/upload_images/16808961-b11a2af9253b0444.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


第二步在qmb_pk.mk文件里面的PRODUCT_PACKAGES内添加kuaiya
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-39267056ce2b7272.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-10fd72a2c4b782ab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

第三步编译环境: source build/envsetup.sh   → lunch → mmm <要编译文件夹>

如：mmm  vendor/tinno/product/k510/trunk/packages/kuaiya

等待编译成功
#RRO方式预置
①：在项目的Android文件夹内新建覆盖文件夹
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-406b27c04ede3225.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

然后在文件内包含res文件夹，Android.mk ，AndroidManifest.xml
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-c6a1a5d105bcc558.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


res文件夹内创建要覆盖内容文件夹如：values文件夹内的strings.xml
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-7aa553edf4177189.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
Strings.xml内容如下：
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-86c3f6fd0916790a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
Android.mk内容如下：
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-379bec83d9782033.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
AndroidManifest.xml内容如下:
![GitHub](https://upload-images.jianshu.io/upload_images/16808961-a23c991a9decb064.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


高亮内容需要到apk反编译源码里面找对应的包名替换

②编译环境: source build/envsetup.sh   → lunch → mmm <要编译文件夹>

如：mmm  kuaiyaOverlay/

等待编译成功

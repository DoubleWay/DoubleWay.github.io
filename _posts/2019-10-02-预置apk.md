---
layout:     post
title:      预置apk
subtitle:   
date:       2019-10-02
author:     DoubleWay
header-img: img/post-bg-digital-native.jpg
catalog: 	 true
tags:
    - Android
    - TINNO
    - apk
    
---
#APK方式预置
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.1.png)


第一步：在 /home/android/work/6739/android/vendor/tinno/product/k510/trunk/packages下创建kuaiya文件夹

 kuaiya文件夹内把apk拷贝进去，然后新建Android.mk
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.2.png)
Android.mk内容如下

![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.9.png)


第二步在qmb_pk.mk文件里面的PRODUCT_PACKAGES内添加kuaiya
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.3.png)
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.4.png)

第三步编译环境: source build/envsetup.sh   → lunch → mmm <要编译文件夹>

如：mmm  vendor/tinno/product/k510/trunk/packages/kuaiya

等待编译成功
#RRO方式预置
①：在项目的Android文件夹内新建覆盖文件夹
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.5.png)

然后在文件内包含res文件夹，Android.mk ，AndroidManifest.xml
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.6.png)


res文件夹内创建要覆盖内容文件夹如：values文件夹内的strings.xml
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.7.png)
Strings.xml内容如下：
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.10.png)
Android.mk内容如下：
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.11.png)
AndroidManifest.xml内容如下:
![GitHub](https://raw.githubusercontent.com/DoubleWay/DoubleWay.github.io/master/img/2019-10-02/2019-10-02-1.8.png)


高亮内容需要到apk反编译源码里面找对应的包名替换

②编译环境: source build/envsetup.sh   → lunch → mmm <要编译文件夹>

如：mmm  kuaiyaOverlay/

等待编译成功
